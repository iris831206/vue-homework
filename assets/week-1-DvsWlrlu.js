import{r as m,a as g,c as r,b as e,F as U,d as I,t as c,w as a,v as u,e as $,o as p,f as _}from"./index-q45Fgi2p.js";const w={class:"container mt-5"},D={class:"table align-middle"},E=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"品項"),e("th",{scope:"col"},"內容"),e("th",{scope:"col"},"價格"),e("th",{scope:"col"},"庫存"),e("th",{scope:"col"},"小計"),e("th")])],-1),N={key:0},B={key:1},P=["onClick"],T=["onClick","disabled"],F=["onClick"],Q=["onClick"],S=["onClick"],j={class:"mb-3 d-flex justify-content-end"},L={class:"bg-light p-3"},M=e("label",{for:"name"},"商品名稱",-1),q=e("label",{for:"name"},"商品內容",-1),z=e("label",{for:"name"},"商品價格",-1),A=e("label",{for:"name"},"商品數量",-1),G={key:0,class:"bg-light p-3"},H=e("h5",null,"編輯商品",-1),J=e("label",{for:"name"},"商品名稱",-1),K=e("label",{for:"name"},"商品內容",-1),O=e("label",{for:"name"},"商品價格",-1),R=e("label",{for:"name"},"商品數量",-1),Z={__name:"week-1",setup(W){const i=m([{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50,num:20},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45,num:15},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55,num:30},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45,num:10},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50,num:25},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45,num:20},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55,num:18},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60,num:20}]),b=(o,t)=>{i.value=i.value.map(n=>(n.id===o&&(n.num=t),n))},y=o=>{const t=i.value.findIndex(n=>n.id===o);i.value.splice(t,1)},d=m({}),h=()=>{i.value.push({id:new Date().getTime(),name:d.value.name,description:d.value.description,price:d.value.price,num:d.value.num}),d.value={}},l=m({}),k=o=>{l.value={...o}},f=()=>{const o=i.value.findIndex(t=>t.id===l.value.id);i.value[o]=l.value,l.value={}},v=m(""),x=o=>{v.value=o;const t=i.value.findIndex(s=>s.id===o),n=i.value[t];l.value={...n}},C=()=>{const o=i.value.findIndex(t=>t.id===l.value.id);i.value[o]=l.value,v.value="",l.value={}},V=g(()=>i.value.reduce((o,t)=>o+t.price*t.num,0));return(o,t)=>(p(),r("div",w,[e("table",D,[E,e("tbody",null,[(p(!0),r(U,null,I(i.value,n=>(p(),r("tr",{key:n.id},[v.value===n.id?(p(),r("td",N,[a(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>l.value.name=s)},null,512),[[u,l.value.name]]),e("button",{type:"button",class:"btn btn-primary ms-3",onClick:C},"確認編輯")])):(p(),r("td",B,[_(c(n.name)+" ",1),e("button",{type:"button",class:"btn btn-outline-primary",onClick:s=>x(n.id)},"編輯名稱",8,P)])),e("td",null,c(n.description),1),e("td",null,c(n.price),1),e("td",null,[e("button",{class:"btn",onClick:s=>b(n.id,n.num-1),disabled:n.num<1},"-",8,T),_(" "+c(n.num)+" ",1),e("button",{class:"btn",onClick:s=>b(n.id,n.num+1)},"+",8,F)]),e("td",null,c(n.num*n.price),1),e("td",null,[e("button",{class:"btn btn-secondary me-3",onClick:s=>k(n)},"編輯商品",8,Q),e("button",{type:"button",class:"btn btn-danger",onClick:s=>y(n.id)}," 刪除商品 ",8,S)])]))),128))])]),e("div",j," 總計："+c(V.value)+"元 ",1),e("div",L,[M,a(e("input",{type:"text",id:"name","onUpdate:modelValue":t[1]||(t[1]=n=>d.value.name=n),placeholder:"商品名稱"},null,512),[[u,d.value.name]]),q,a(e("input",{type:"text",id:"description","onUpdate:modelValue":t[2]||(t[2]=n=>d.value.description=n),placeholder:"商品內容"},null,512),[[u,d.value.description]]),z,a(e("input",{type:"number",id:"price","onUpdate:modelValue":t[3]||(t[3]=n=>d.value.price=n),placeholder:"商品價格"},null,512),[[u,d.value.price]]),A,a(e("input",{type:"number",id:"num","onUpdate:modelValue":t[4]||(t[4]=n=>d.value.num=n),placeholder:"商品數量"},null,512),[[u,d.value.num]]),e("div",null,[e("button",{type:"button",class:"btn btn-outline-primary mt-3",onClick:h}," 新增商品 ")])]),l.value.id?(p(),r("div",G,[H,J,a(e("input",{type:"text",id:"name","onUpdate:modelValue":t[5]||(t[5]=n=>l.value.name=n),placeholder:"商品名稱"},null,512),[[u,l.value.name]]),K,a(e("input",{type:"text",id:"description","onUpdate:modelValue":t[6]||(t[6]=n=>l.value.description=n),placeholder:"商品內容"},null,512),[[u,l.value.description]]),O,a(e("input",{type:"number",id:"price","onUpdate:modelValue":t[7]||(t[7]=n=>l.value.price=n),placeholder:"商品價格"},null,512),[[u,l.value.price]]),R,a(e("input",{type:"number",id:"num","onUpdate:modelValue":t[8]||(t[8]=n=>l.value.num=n),placeholder:"商品數量"},null,512),[[u,l.value.num]]),e("div",null,[e("button",{type:"button",class:"btn btn-outline-primary mt-3 me-3",onClick:f}," 確認 "),e("button",{type:"button",class:"btn btn-outline-danger mt-3",onClick:t[9]||(t[9]=n=>l.value={})}," 取消 ")])])):$("",!0)]))}};export{Z as default};
